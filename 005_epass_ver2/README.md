[GitHub Pages] 이벤트 관련 포스팅 자동화
===


본 디렉토리에 포함된 스크립트들은 이벤트 관련 포스팅을 자동화하기 위한 것들입니다. 
이벤트 종료 날짜를 기준으로 자동 포스팅 합니다. 


### 파일 설명


본 디렉토리의 파일들은 GitHub에 업로드되어 관리되는 파일들과, 
업로드되지 않는 파일들이 있습니다. 


#### GitHub에서 관리되는 파일들


|파일명|용도|비고|
|--|--|--|
|accumulate.py|이벤트 사이트로부터 이벤트 정보를 수집하는 스크립트|   |
|crontab.sh|crontab에서 자동으로 실행될 스크립트|   |
|install.sh|본 자동화 스크립트를 위해 필요한 환경 자동 구성|   |
|process.py|수집된 이벤트 정보를 마감 날짜로 정렬한다.|   |
|reform.py|pkl 파일을 양식에 맞게 변경하기 위한 스크립트.|임시 스크립트|
|README.md|본 파일|   |


#### GitHub에서 관리되지 않는 파일들


|경로명|용도|비고|
|--|--|--|
|tmp|auto.sh 파일로 임시 생성되는 파일 및 디렉토리들|   |
|__pycache__|파이썬 실행시 생성되는 파일|   |


#### 다른 경로의 파일들


|경로명|용도|비고|
|--|--|--|


### 환경 구성 방법


자동화 스크립트 실행을 위해서는 몇 가지 환경 구성이 필요합니다. 


#### 패키지 설치


아래 명령을 통해서 필요한 패키지들을 설치합니다. 


```bash
$ sudo apt-get install python3
$ sudo apt-get install python3-pip
```


#### crontab 설정


주기적으로 파이썬 스크립트를 실행시키기 위해서는 
crontab에 등록하는 방법이 아주 효과적입니다. 


<code>crontab -e</code> 명령을 통해서 <code>crontab.sh</code> 파일이 
주기적으로 실행될 수 있도록 설정해주시기 바랍니다. 


<code>crontab -l</code> 명령을 실행시켰을 때 아래와 같이 표시되면 됩니다. 


```bash
$ crontab -l
10 * * * * cd ~/project/crontab/blog_automation/005_epass_ver2; ./crontab.sh
```


위와 같이 설정하면 매일 매시 10분이 될때마다 
<code>./crontab.sh</code> 스크립트가 실행됩니다. 


### 실행 방법


<code>crontab.sh</code>가 실행되면 
이벤트 정보를 제공하는 사이트로부터 이벤트 관련 정보를 수집한 뒤, 
이벤트 종료일을 기준으로 GitHub Pages에 업로드하게 됩니다. 


하지만 디버깅이나 수동 동작을 위해서 다른 스크립트를 실행할 수 있습니다. 


#### 이벤트 정보 긁어오기


이벤트 정보를 긁어오는 방법입니다. 
해당하는 스크립트는 <code>accumulate.py</code> 스크립트입니다. 


광고 정보를 수집해서 <code>tmp</code> 디렉토리에 
이벤트 관련 정보를 저장합니다. 


위와 같은 파일일 생성되면 다음 단계로 
<code>process.py</code> 스크립트가 이런 형식을 파일들을 처리합니다. 


### 추가 구현이 필요한 항목들


- [ ] 페이스북 이벤트의 경우 로그인을 하지 않으면 오픈 그래프를 가져올 수 없다. 
- [ ] 글 내용 자동 작성



